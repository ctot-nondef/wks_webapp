<h4>{{property}}</h4>
<!-- if it's a simple property -->
<div layout="row" ng-if="!isArray(value)&&value.type">
  <div ng-repeat="(property, value) in value" flex-gt-xs >
    <ng-form name="propertyform">
      <md-input-container class="md-block" ng-if="property == 'type'">
        <label>{{property}}</label>
        <md-select ng-model="value">
          <md-option value="{{t}}" ng-repeat="t in atypes">
            {{t}}
          </md-option>
        </md-select>
      </md-input-container>
      <md-switch ng-model="value" ng-if="property == 'required'">
        required: {{ value }}
      </md-switch>
      <md-input-container class="md-block" ng-if="property == 'ref'">
        <label>{{property}}</label>
        <md-select ng-model="value">
          <md-option value="{{t}}" ng-repeat="t in arefs">
            {{t}}
          </md-option>
        </md-select>
      </md-input-container>
    </ng-form>
  </div>
</div>
<!-- if it's a repeatable property -->
<div layout="row" ng-if="isArray(value)&&value[0].type">
  <div ng-repeat="(property, value) in value[0]" flex-gt-xs >
    <ng-form name="propertyform">
      <md-input-container class="md-block" ng-if="property == 'type'">
        <label>{{property}}</label>
        <md-select ng-model="value">
          <md-option value="{{t}}" ng-repeat="t in atypes">
            {{t}}
          </md-option>
        </md-select>
      </md-input-container>
      <md-switch ng-model="value" ng-if="property == 'required'">
        required: {{ value }}
      </md-switch>
      <md-input-container class="md-block" ng-if="property == 'ref'">
        <label>{{property}}</label>
        <md-select ng-model="value">
          <md-option value="{{t}}" ng-repeat="t in arefs">
            {{t}}
          </md-option>
        </md-select>
      </md-input-container>
    </ng-form>
  </div>
</div>
<!-- if it's a nested document property -->
<div ng-if="!isArray(value)&&!value.type">
  <div layout="column" ng-repeat="(property, value) in value" ng-include="'partials/stypeproperty.html'" class="md-padding" ></div>
</div>
<!-- if it's a repeatable nested document property -->
<div ng-if="isArray(value)&&!value[0].type">
  <div layout="column" ng-repeat="(property, value) in value[0]" ng-include="'partials/stypeproperty.html'" class="md-padding" ></div>
</div>
